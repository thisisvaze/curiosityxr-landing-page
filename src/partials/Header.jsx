import React, { useState, useRef, useEffect } from 'react';
import { Link } from 'react-router-dom';
import Dropdown from '../utils/Dropdown';

function Header() {

  const [mobileNavOpen, setMobileNavOpen] = useState(false);

  const trigger = useRef(null);
  const mobileNav = useRef(null);

  // close the mobile menu on click outside
  useEffect(() => {
    const clickHandler = ({ target }) => {
      if (!mobileNav.current || !trigger.current) return;
      if (!mobileNavOpen || mobileNav.current.contains(target) || trigger.current.contains(target)) return;
      setMobileNavOpen(false);
    };
    document.addEventListener('click', clickHandler);
    return () => document.removeEventListener('click', clickHandler);
  });

  // close the mobile menu if the esc key is pressed
  useEffect(() => {
    const keyHandler = ({ keyCode }) => {
      if (!mobileNavOpen || keyCode !== 27) return;
      setMobileNavOpen(false);
    };
    document.addEventListener('keydown', keyHandler);
    return () => document.removeEventListener('keydown', keyHandler);
  });

  return (
    <header className="absolute w-full z-30">
    <div className="flex max-w-6xl mx-auto px-4 items-center justify-center sm:px-6">
      <div className="flex items-center justify-center h-20">

          {/* Site branding */}
         
          <div className="text-center">
            {/* Logo */}
            <Link to="/" className="block" aria-label="Cruip">
            <svg width="121" height="35" viewBox="0 0 121 35" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M45.3732 22.9173C44.2756 22.9173 43.3273 22.6775 42.5281 22.198C41.7396 21.7079 41.1269 21.0312 40.69 20.1681C40.2531 19.2943 40.0347 18.282 40.0347 17.1312C40.0347 15.9911 40.2531 14.9894 40.69 14.1263C41.1269 13.2525 41.7396 12.5706 42.5281 12.0804C43.3273 11.5902 44.2756 11.3452 45.3732 11.3452C46.6519 11.3452 47.6908 11.6542 48.49 12.2722C49.2998 12.8796 49.8166 13.732 50.0404 14.8296H48.5539C48.3834 14.137 48.0318 13.5829 47.499 13.1673C46.9769 12.7411 46.2683 12.5279 45.3732 12.5279C44.574 12.5279 43.8761 12.7144 43.2793 13.0874C42.6826 13.4497 42.2191 13.9771 41.8888 14.6697C41.5691 15.3517 41.4093 16.1722 41.4093 17.1312C41.4093 18.0902 41.5691 18.916 41.8888 19.6087C42.2191 20.2906 42.6826 20.8181 43.2793 21.191C43.8761 21.5533 44.574 21.7345 45.3732 21.7345C46.2683 21.7345 46.9769 21.532 47.499 21.1271C48.0318 20.7115 48.3834 20.1628 48.5539 19.4808H50.0404C49.8166 20.557 49.2998 21.3988 48.49 22.0062C47.6908 22.6136 46.6519 22.9173 45.3732 22.9173Z" fill="black"/>
<path d="M54.4635 22.9173C53.5258 22.9173 52.7799 22.6349 52.2258 22.0701C51.6717 21.4947 51.3946 20.6156 51.3946 19.4329V14.7976H52.7373V19.289C52.7373 20.9406 53.4139 21.7665 54.7672 21.7665C55.4598 21.7665 56.0299 21.5214 56.4774 21.0312C56.9356 20.5304 57.1647 19.8218 57.1647 18.9054V14.7976H58.5073V22.7255H57.2926L57.1967 21.3029C56.9516 21.8038 56.584 22.198 56.0938 22.4857C55.6143 22.7734 55.0709 22.9173 54.4635 22.9173Z" fill="black"/>
<path d="M60.3976 22.7255V14.7976H61.6124L61.7243 16.3161C61.9694 15.7939 62.3423 15.3783 62.8431 15.0693C63.344 14.7603 63.962 14.6058 64.6972 14.6058V16.0124H64.3296C63.8608 16.0124 63.4292 16.0976 63.0349 16.2681C62.6407 16.4279 62.3263 16.705 62.0919 17.0992C61.8575 17.4935 61.7403 18.037 61.7403 18.7296V22.7255H60.3976Z" fill="black"/>
<path d="M66.6997 13.0394C66.4333 13.0394 66.2095 12.9542 66.0284 12.7837C65.8579 12.6025 65.7726 12.3788 65.7726 12.1124C65.7726 11.8566 65.8579 11.6435 66.0284 11.473C66.2095 11.3025 66.4333 11.2173 66.6997 11.2173C66.9554 11.2173 67.1739 11.3025 67.355 11.473C67.5361 11.6435 67.6267 11.8566 67.6267 12.1124C67.6267 12.3788 67.5361 12.6025 67.355 12.7837C67.1739 12.9542 66.9554 13.0394 66.6997 13.0394ZM66.0284 22.7255V14.7976H67.371V22.7255H66.0284Z" fill="black"/>
<path d="M73.0013 22.9173C72.2554 22.9173 71.5841 22.7468 70.9874 22.4058C70.3907 22.0648 69.9165 21.5853 69.5649 20.9673C69.2239 20.3386 69.0534 19.6033 69.0534 18.7615C69.0534 17.9197 69.2292 17.1898 69.5808 16.5718C69.9325 15.9431 70.4067 15.4583 71.0034 15.1173C71.6108 14.7763 72.2874 14.6058 73.0333 14.6058C73.7792 14.6058 74.4505 14.7763 75.0472 15.1173C75.6439 15.4583 76.1128 15.9431 76.4538 16.5718C76.8054 17.1898 76.9812 17.9197 76.9812 18.7615C76.9812 19.6033 76.8054 20.3386 76.4538 20.9673C76.1021 21.5853 75.6226 22.0648 75.0153 22.4058C74.4185 22.7468 73.7472 22.9173 73.0013 22.9173ZM73.0013 21.7665C73.4595 21.7665 73.8858 21.6546 74.28 21.4308C74.6743 21.207 74.9939 20.8714 75.239 20.4238C75.4841 19.9763 75.6067 19.4222 75.6067 18.7615C75.6067 18.1009 75.4841 17.5468 75.239 17.0992C75.0046 16.6517 74.6903 16.3161 74.296 16.0923C73.9017 15.8685 73.4808 15.7566 73.0333 15.7566C72.5751 15.7566 72.1489 15.8685 71.7546 16.0923C71.3603 16.3161 71.0407 16.6517 70.7956 17.0992C70.5505 17.5468 70.428 18.1009 70.428 18.7615C70.428 19.4222 70.5505 19.9763 70.7956 20.4238C71.0407 20.8714 71.355 21.207 71.7386 21.4308C72.1329 21.6546 72.5538 21.7665 73.0013 21.7665Z" fill="black"/>
<path d="M81.5653 22.9173C80.6169 22.9173 79.8284 22.6775 79.1997 22.198C78.571 21.7185 78.2034 21.0685 78.0968 20.248H79.4714C79.5567 20.6636 79.7751 21.0259 80.1268 21.3349C80.4891 21.6333 80.9739 21.7824 81.5813 21.7824C82.146 21.7824 82.5616 21.6652 82.828 21.4308C83.0944 21.1857 83.2276 20.898 83.2276 20.5677C83.2276 20.0882 83.0518 19.7685 82.7001 19.6087C82.3591 19.4488 81.8743 19.305 81.2456 19.1771C80.8194 19.0919 80.3932 18.9693 79.9669 18.8095C79.5407 18.6497 79.1837 18.4259 78.896 18.1382C78.6083 17.8398 78.4645 17.4509 78.4645 16.9714C78.4645 16.2788 78.7202 15.714 79.2317 15.2771C79.7538 14.8296 80.4571 14.6058 81.3415 14.6058C82.1833 14.6058 82.8706 14.8189 83.4034 15.2452C83.9468 15.6607 84.2612 16.2574 84.3464 17.0353H83.0198C82.9665 16.6304 82.7907 16.3161 82.4923 16.0923C82.2046 15.8579 81.8157 15.7406 81.3255 15.7406C80.846 15.7406 80.4731 15.8419 80.2067 16.0443C79.9509 16.2468 79.8231 16.5132 79.8231 16.8435C79.8231 17.1632 79.9882 17.4136 80.3186 17.5947C80.6596 17.7759 81.1177 17.9304 81.6932 18.0583C82.1833 18.1648 82.6468 18.298 83.0837 18.4579C83.5313 18.607 83.8936 18.8361 84.1706 19.1451C84.4583 19.4435 84.6022 19.8804 84.6022 20.4558C84.6128 21.1697 84.3411 21.7611 83.787 22.23C83.2436 22.6882 82.503 22.9173 81.5653 22.9173Z" fill="black"/>
<path d="M87.0157 13.0394C86.7493 13.0394 86.5255 12.9542 86.3444 12.7837C86.1739 12.6025 86.0886 12.3788 86.0886 12.1124C86.0886 11.8566 86.1739 11.6435 86.3444 11.473C86.5255 11.3025 86.7493 11.2173 87.0157 11.2173C87.2714 11.2173 87.4899 11.3025 87.671 11.473C87.8522 11.6435 87.9427 11.8566 87.9427 12.1124C87.9427 12.3788 87.8522 12.6025 87.671 12.7837C87.4899 12.9542 87.2714 13.0394 87.0157 13.0394ZM86.3444 22.7255V14.7976H87.687V22.7255H86.3444Z" fill="black"/>
<path d="M92.8378 22.7255C92.1133 22.7255 91.5432 22.5497 91.1276 22.198C90.712 21.8464 90.5042 21.2124 90.5042 20.296V15.9324H89.1297V14.7976H90.5042L90.6801 12.8956H91.8469V14.7976H94.1805V15.9324H91.8469V20.296C91.8469 20.7968 91.9481 21.1378 92.1506 21.3189C92.353 21.4894 92.71 21.5747 93.2215 21.5747H94.0526V22.7255H92.8378Z" fill="black"/>
<path d="M96.4297 26.2419L98.3956 21.9583H97.9321L94.7833 14.7976H96.2378L98.8592 20.9673L101.64 14.7976H103.031L97.8362 26.2419H96.4297Z" fill="black"/>
<path d="M103.633 22.7255L107.053 17.0833L103.633 11.537H105.151L107.901 16.0124L110.522 11.537H112.024L108.604 17.1472L112.04 22.7255H110.522L107.757 18.2341L105.151 22.7255H103.633Z" fill="black"/>
<path d="M113.504 22.7255V11.537H117.116C117.99 11.537 118.704 11.6808 119.258 11.9685C119.812 12.2562 120.222 12.6505 120.489 13.1513C120.755 13.6521 120.888 14.2062 120.888 14.8136C120.888 15.5169 120.696 16.1509 120.313 16.7156C119.94 17.2804 119.354 17.68 118.555 17.9144L121 22.7255H119.418L117.148 18.1062H114.846V22.7255H113.504ZM114.846 17.0513H117.02C117.883 17.0513 118.512 16.8435 118.906 16.4279C119.3 16.0124 119.498 15.4796 119.498 14.8296C119.498 14.1689 119.3 13.6468 118.906 13.2632C118.523 12.8689 117.889 12.6718 117.004 12.6718H114.846V17.0513Z" fill="black"/>
<path d="M14.8358 32.9714C14.8357 32.9714 14.8356 32.9713 14.8356 32.9712C14.8356 32.8072 14.8356 32.7061 14.8356 32.605C14.8356 31.4521 14.8325 30.3003 14.8377 29.1474C14.8398 28.6158 15.33 28.2918 15.7738 28.523C16.037 28.6613 16.1351 28.8925 16.134 29.1856C16.1299 30.3292 16.132 31.4728 16.132 32.6174C16.132 32.6285 16.132 32.6397 16.132 32.6509C16.132 32.7911 16.2812 32.8925 16.4045 32.8259V32.8259C17.3096 32.3325 18.2138 31.8371 19.1179 31.3427C19.1633 31.3179 19.2077 31.2921 19.2541 31.2694C19.6051 31.1002 19.9787 31.2085 20.1418 31.5264C20.3079 31.8505 20.1934 32.2118 19.8476 32.4037C18.8929 32.9322 17.9351 33.4544 16.9783 33.9787C16.5407 34.2182 16.101 34.4515 15.6685 34.6992C15.5344 34.7766 15.4322 34.7828 15.2929 34.7054C13.917 33.9437 12.5371 33.1902 11.1582 32.4337C10.766 32.2179 10.6287 31.8505 10.8124 31.513C10.9982 31.1714 11.377 31.0888 11.7733 31.3056C12.6857 31.803 13.5981 32.3016 14.5105 32.8001C14.5991 32.8485 14.6898 32.8949 14.8359 32.971C14.8361 32.9711 14.836 32.9714 14.8358 32.9714V32.9714Z" fill="black"/>
<path d="M28.6656 11.1645C28.6656 11.1652 28.6653 11.1658 28.6647 11.1661C28.3431 11.3372 28.0729 11.4785 27.8059 11.6249C27.1577 11.9799 26.5106 12.3381 25.8634 12.6942C25.4898 12.8995 25.11 12.8108 24.9262 12.4753C24.7456 12.1451 24.8757 11.7735 25.2472 11.5681C25.9997 11.1532 26.7531 10.7403 27.5055 10.3265V10.3265C27.681 10.2288 27.6773 9.97432 27.5025 9.87538C27.3447 9.78597 27.1925 9.70017 27.04 9.61533C26.3423 9.22519 25.6384 8.84847 24.951 8.43975C24.789 8.34376 24.6383 8.1652 24.5702 7.99077C24.4731 7.741 24.5702 7.49742 24.7972 7.33331C25.0398 7.15888 25.2926 7.1692 25.5476 7.31164C26.2536 7.70488 26.9606 8.09399 27.6655 8.48826C28.3632 8.87737 29.0568 9.27473 29.7576 9.65868C29.899 9.73609 29.9455 9.82692 29.9444 9.98277C29.9382 11.7281 29.9403 13.4734 29.9372 15.2177C29.9372 15.6687 29.6905 15.9474 29.3138 15.9412C28.903 15.934 28.6667 15.6698 28.6656 15.2094C28.6636 13.9791 28.6656 12.7499 28.6656 11.5196C28.6656 11.4195 28.6656 11.3204 28.6656 11.1645V11.1645Z" fill="black"/>
<path d="M3.04572 10.1017C3.04484 10.1021 3.04482 10.1034 3.04568 10.1039C3.24496 10.2169 3.40441 10.3095 3.56591 10.3979C4.29665 10.7994 5.02946 11.1957 5.75814 11.6003C6.06055 11.7686 6.16995 12.0782 6.05952 12.394C5.9625 12.6696 5.65493 12.8554 5.35974 12.7976C5.24517 12.7749 5.13474 12.7171 5.03049 12.6603C4.19344 12.2041 3.35742 11.7438 2.5214 11.2855V11.2855C2.41678 11.2286 2.28736 11.3122 2.28292 11.4312C2.28168 11.4644 2.28092 11.4968 2.28092 11.5291C2.28092 12.7584 2.28608 13.9887 2.28402 15.2179C2.28402 15.6308 2.07037 15.894 1.72461 15.9332C1.31072 15.9807 1.00831 15.7061 1.00625 15.2551C1.00006 14.1456 1.00522 13.036 1.00522 11.9275C1.00522 11.2835 1.00935 10.6384 1.00006 9.99436C0.997992 9.82612 1.05269 9.73323 1.20029 9.65169C2.59881 8.87966 3.99321 8.09835 5.38864 7.32116C5.75711 7.1168 6.13693 7.20556 6.33097 7.53378C6.51778 7.84961 6.38876 8.22736 6.00894 8.44101C5.12545 8.9385 4.23885 9.42875 3.35329 9.92314C3.26556 9.97268 3.17887 10.0243 3.04572 10.1017V10.1017Z" fill="black"/>
<path d="M1.00066 23.2627C1.00085 23.2629 1.00117 23.2628 1.00117 23.2625C1.00117 22.3772 0.997048 21.4919 1.00324 20.6076C1.00634 20.1989 1.25404 19.9326 1.61838 19.9212C1.98272 19.9099 2.26759 20.1762 2.27894 20.5643C2.29133 21.0019 2.28307 21.4405 2.28307 21.8792C2.28307 22.9361 2.29236 23.994 2.27585 25.0509C2.27172 25.3058 2.36461 25.4328 2.57826 25.5473C3.72082 26.1604 4.85718 26.7849 5.99458 27.4072C6.30731 27.5786 6.44355 27.8459 6.3775 28.1493C6.32176 28.4053 6.08954 28.6189 5.80777 28.6293C5.66946 28.6344 5.51258 28.6004 5.39079 28.5343C3.97885 27.7695 2.5731 26.9933 1.16115 26.2275C1.02079 26.1511 0.997046 26.0562 0.998078 25.9179C1.00117 25.0326 1.00014 24.1472 1.00014 23.263C1.00014 23.2627 1.00047 23.2626 1.00066 23.2627V23.2627Z" fill="black"/>
<path d="M29.9438 23.2879C29.9435 23.2879 29.9433 23.2882 29.9433 23.2884C29.9433 24.1656 29.9402 25.0417 29.9464 25.9188C29.9474 26.0736 29.9041 26.1634 29.7606 26.2419C28.3714 26.9953 26.9862 27.757 25.6022 28.5187C25.3493 28.6581 25.0975 28.6942 24.8467 28.5321C24.634 28.3938 24.5411 28.1884 24.5659 27.9356C24.5928 27.6682 24.762 27.5124 24.986 27.3906C26.1327 26.7662 27.2742 26.1325 28.424 25.5132C28.6108 25.4131 28.6717 25.2975 28.6707 25.09C28.6624 23.611 28.6645 22.133 28.6665 20.6539C28.6665 20.1544 29.0164 19.8406 29.4499 19.9418C29.7596 20.014 29.9422 20.2525 29.9433 20.6054C29.9464 21.4991 29.9433 22.3938 29.9443 23.2874C29.9443 23.2877 29.9441 23.2879 29.9438 23.2879V23.2879Z" fill="black"/>
<path d="M19.3715 4.51888C19.2311 4.46211 19.0835 4.41773 18.9514 4.34548C17.8698 3.74685 16.7881 3.14616 15.7126 2.53618C15.5465 2.44225 15.4226 2.42677 15.2451 2.52792C14.1407 3.15751 13.0302 3.77472 11.9175 4.38883C11.4696 4.63654 10.9742 4.39193 10.9349 3.90993C10.9112 3.62506 11.0382 3.41554 11.29 3.27621C12.2953 2.71576 13.2985 2.15326 14.3038 1.59178C14.6341 1.40703 14.9674 1.22848 15.2926 1.03547C15.4175 0.961157 15.5093 0.9529 15.6435 1.02824C16.9378 1.75796 18.2372 2.47838 19.5346 3.20293C19.6388 3.26176 19.7503 3.31956 19.8329 3.40316C20.0259 3.59823 20.0651 3.83871 19.9701 4.09468C19.8827 4.33245 19.6545 4.48194 19.3759 4.51961C19.3744 4.51981 19.3729 4.51955 19.3715 4.51888V4.51888Z" fill="black"/>
<circle cx="15.3389" cy="17.5224" r="4.85719" stroke="black" stroke-width="1.22113"/>
</svg>








            </Link>
  
          </div>
          
          {/* Desktop navigation */}
          <nav className="hidden  md:flex md:grow">

            {/* Desktop sign in links */}
            <ul className="flex grow justify-end flex-wrap items-center">
              {/* <li>
                <Link to="/#Waitlist" className="font-medium underline text-purple-600 hover:text-gray-200 px-4 py-3 flex items-center transition duration-150 ease-in-out">Join the Waitlist</Link>
              </li> */}
              {/* <li>
                <Link to="/signup" className="btn-sm text-white bg-purple-600 hover:bg-purple-700 ml-3">Sign up</Link>
              </li> */}
            </ul>

          </nav>

          {/* Mobile menu */}
          <div className="md:hidden">

            {/* Hamburger button */}
            {/* <button ref={trigger} className={`hamburger ${mobileNavOpen && 'active'}`} aria-controls="mobile-nav" aria-expanded={mobileNavOpen} onClick={() => setMobileNavOpen(!mobileNavOpen)}>
              <span className="sr-only">Menu</span>
              <svg className="w-6 h-6 fill-current text-gray-300 hover:text-gray-200 transition duration-150 ease-in-out" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <rect y="4" width="24" height="2" rx="1" />
                <rect y="11" width="24" height="2" rx="1" />
                <rect y="18" width="24" height="2" rx="1" />
              </svg>
            </button> */}

            {/*Mobile navigation */}
            {/* <nav id="mobile-nav" ref={mobileNav} className="absolute top-full z-20 left-0 w-full px-4 sm:px-6 overflow-hidden transition-all duration-300 ease-in-out" style={mobileNavOpen ? { maxHeight: mobileNav.current.scrollHeight, opacity: 1 } : { maxHeight: 0, opacity: .8 } }>
              <ul className="bg-gray-800 px-4 py-2">
                <li>
                  <Link to="/signin" className="flex font-medium w-full text-purple-600 hover:text-gray-200 py-2 justify-center">Sign in</Link>
                </li>
                <li>
                  <Link to="/signup" className="font-medium w-full inline-flex items-center justify-center border border-transparent px-4 py-2 my-2 rounded-sm text-white bg-purple-600 hover:bg-purple-700 transition duration-150 ease-in-out">Sign up</Link>
                </li>
              </ul>
            </nav> */}

          </div>

        </div>
      </div>
    </header>
  );
}

export default Header;
